@import common

@keyframes blink
  from
    background-position-x: 0%
  to
    background-position-x: 200%

component
  height: 0.5em
  position: relative
  border-radius: 0.25em
  --progress: 0.0

  > div.socket
    top: 0
    left: 0
    width: 100%
    height: 100%
    position: absolute
    border-radius: 0.0625em
    background-color: $PlaceHolderColor
    overflow: hidden

    > div.bar
      top: 1px
      left: 1px
      width: calc(var(--progress) * calc(100% - 2px))
      height: calc(100% - 2px)
      position: absolute
      border-radius: 1px
      background-color: orange
      filter: blur(0.5px)

      &.buffering
        background: linear-gradient(to right, rgba(orange, 0.2) 0%, rgba(orange, 0.3) 50%, rgba(orange, 0.2) 100%)
        background-size: 200%
        animation: blink 500ms backwards infinite linear